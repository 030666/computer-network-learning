# 第四章 网络层：数据平面

## 1、导论



### 1.1 网络层：数据平面

1. ==本章目标：==
	+ 理解网络服务的基本原理，聚焦于其==数据平面==
	  + 网络服务模型
	  + 转发和路由
	  + 路由器工作原理
	  + 通用转发
	+ 互联网中网络层协议的实例和实现
2. 网络层服务
  + 在发送主机和接收主机对之间传送段（segment）
  + 在发送端将段封装到数据报中
  + 在接收端，将段上交给传输层实体
  + 网络层协议存在于==每一个==主机 和路由器
  + 路由器检查每一个经过它的IP数据报的头部
3. 网络层的关键功能
  1. ==网络层功能：==
    + 转发：将分组从路由器的输入接口转发到合适的输出接口
    + 路由：使用路由算法来决定分组从发送主机到目标接收主机的路径
      + 路由选择算法
      + 路由选择协议
  2. ==路由的类比：==
    + 转发:通过单个路口的过程
    + 路由:从源到目的的路由路径规划过程


### 1.2 网络层：数据平面、控制平面

1. ==数据平面==
   + 本地，每个路由器功能
   + 决定从路由器输入端口到达的分组如何转发到 输出端口
   + 转发功能：
     + 传统方式：基于目标地址+转发表
     + SDN方式：基于多个字段+流表
2. ==控制平面==
   + 网络范围内的逻辑
   + 决定数据报如何在路由器之间路由，决定数据报从源到目标主机之间的端到端路径
   + 2个控制平面方法:
     + 传统的路由算法: 在路由器 中被实现
     + software-defined networking  (SDN): 在远程的服务器中 实现
